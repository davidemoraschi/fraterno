<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta http-equiv="Content-Language" content="en" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<title>APEX_PLUGIN</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1" />
<meta name="Date" content="2010-10-20T13:9:32Z" />
<meta name="robots" content="all" scheme="http://www.robotstxt.org/" />
<meta name="doctitle" content="Oracle&reg; Application Express API Reference Release 4.0" />
<meta name="partno" content="E15519-03" />
<meta name="docid" content="AEAPI" />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />
<link rel="Stylesheet" href="../../dcommon/css/blafdoc.css" title="Default" type="text/css" />
<script type="text/javascript" src="../../dcommon/js/doccd.js">
</script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="apex_plsql_job.htm" title="Previous" type="text/html" />
<link rel="Next" href="apex_plugin_util.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e15519.pdf" title="PDF version" type="application/pdf" />
</head>
<body>
<div class="header">
<div class="zz-skip-header"><a name="top" id="top" href="#BEGIN">Skip Headers</a></div>
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top"><b>Oracle&reg; Application Express API Reference<br />
Release 4.0</b><br />
Part Number E15519-03</td>
<td valign="bottom" align="right">
<table class="icons oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="196">
<tr>
<td align="center" valign="top"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td align="center" valign="top"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td align="center" valign="top"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="98">
<tr>
<td align="center" valign="top"><a href="apex_plsql_job.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td align="center" valign="top"><a href="apex_plugin_util.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td align="right" valign="top" style="font-size: 90%"><a href="../e15519.pdf">View PDF</a></td>
</tr>
</table>
<a name="BEGIN" id="BEGIN"></a></div>
<div class="IND"><!-- End Header --><a id="BAJDAEJE" name="BAJDAEJE"></a><a id="AEAPI535" name="AEAPI535"></a>
<h1 class="chapter"><span class="secnum">14</span> APEX_PLUGIN</h1>
<p>The <a id="sthref349" name="sthref349"></a><a id="sthref350" name="sthref350"></a><code>APEX_PLUGIN</code> package provides the interface declarations and some utility functions to work with plug-ins.</p>
<p><span class="bold">Topics</span>:</p>
<ul>
<li>
<p><a href="#BAJDADCE">Data Types used by APEX_PLUGIN Package</a></p>
</li>
<li>
<p><a href="#BAJHJGIC">GET_AJAX_IDENTIFIER Function</a></p>
</li>
<li>
<p><a href="#BAJFIDIG">GET_INPUT_NAME_FOR_PAGE_ITEM Function</a></p>
</li>
</ul>
<a id="BAJDADCE" name="BAJDADCE"></a><a id="AEAPI1234" name="AEAPI1234"></a>
<hr />
<div class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Data Types used by APEX_PLUGIN <a id="sthref351" name="sthref351"></a>Package</h2>
<p>The data types used by the <code>APEX_PLUGIN</code> package are described in this section.</p>
<p class="subhead2"><a id="AEAPI1235" name="AEAPI1235"></a>Data Types:</p>
<ul>
<li>
<p><a href="#BAJIDJEA">c_*</a></p>
</li>
<li>
<p><a href="#BAJGJCGA">t_dynamic_action</a></p>
</li>
<li>
<p><a href="#BAJHHGEI">t_dynamic_action_ajax_result</a></p>
</li>
<li>
<p><a href="#BAJEJGJF">t_dynamic_action_render_result</a></p>
</li>
<li>
<p><a href="#BAJEEFFH">t_page_item</a></p>
</li>
<li>
<p><a href="#BAJJIHHH">t_page_item_ajax_result</a></p>
</li>
<li>
<p><a href="#BAJHGJFG">t_page_item_render_result</a></p>
</li>
<li>
<p><a href="#BAJJGIGD">t_page_item_validation_result</a></p>
</li>
<li>
<p><a href="#BAJFGBFA">t_plugin</a></p>
</li>
<li>
<p><a href="#BAJDGCHB">t_process</a></p>
</li>
<li>
<p><a href="#BAJJEDHJ">t_process_exec_result</a></p>
</li>
<li>
<p><a href="#BAJIFJJI">t_region</a></p>
</li>
<li>
<p><a href="#BAJIFIBH">t_region_ajax_result</a></p>
</li>
<li>
<p><a href="#BAJCAIGH">t_region_render_result</a></p>
</li>
</ul>
<p class="subhead2"><a id="BAJIDJEA" name="BAJIDJEA"></a><a id="AEAPI1236" name="AEAPI1236"></a>c_*</p>
<p>The following constants are used for <code>display_location</code> in the page item validation function result type <code>t_page_item_validation_result</code>.</p>
<pre xml:space="preserve" class="oac_no_warn">c_inline_with_field           constant varchar2(40) := 'INLINE_WITH_FIELD';
c_inline_with_field_and_notif constant varchar2(40) := 'INLINE_WITH_FIELD_AND_NOTIFICATION';
c_inline_in_notifiction       constant varchar2(40) := 'INLINE_IN_NOTIFICATION';
c_on_error_page               constant varchar2(40) := 'ON_ERROR_PAGE';
</pre>
<p class="subhead2"><a id="BAJGJCGA" name="BAJGJCGA"></a><a id="AEAPI1237" name="AEAPI1237"></a>t_dynamic_action</p>
<p>The following type is passed into all dynamic action plug-in functions and contains information about the current dynamic action.</p>
<pre xml:space="preserve" class="oac_no_warn">type t_dynamic_action is record (
    id           number,
    action       varchar2(50),
    attribute_01 varchar2(32767),
    attribute_02 varchar2(32767),
    attribute_03 varchar2(32767),
    attribute_04 varchar2(32767),
    attribute_05 varchar2(32767),
    attribute_06 varchar2(32767),
    attribute_07 varchar2(32767),
    attribute_08 varchar2(32767),
    attribute_09 varchar2(32767),
    attribute_10 varchar2(32767) );
</pre>
<p class="subhead2"><a id="BAJHHGEI" name="BAJHHGEI"></a><a id="AEAPI1238" name="AEAPI1238"></a>t_dynamic_action_ajax_result</p>
<p>The following type is used as the result type for the AJAX function of a dynamic action type plug-in.</p>
<pre xml:space="preserve" class="oac_no_warn">type t_dynamic_action_ajax_result is record (
    dummy boolean /* not used yet */
    );
</pre>
<p class="subhead2"><a id="BAJEJGJF" name="BAJEJGJF"></a><a id="AEAPI1239" name="AEAPI1239"></a>t_dynamic_action_render_result</p>
<p>The following type is used as the result type for the rendering function of a dynamic action plug-in.</p>
<pre xml:space="preserve" class="oac_no_warn">type t_dynamic_action_render_result is record (
    javascript_function varchar2(32767),
    ajax_identifier     varchar2(255),
    attribute_01        varchar2(32767),
    attribute_02        varchar2(32767),
    attribute_03        varchar2(32767),
    attribute_04        varchar2(32767),
    attribute_05        varchar2(32767),
    attribute_06        varchar2(32767),
    attribute_07        varchar2(32767),
    attribute_08        varchar2(32767),
    attribute_09        varchar2(32767),
    attribute_10        varchar2(32767) );
</pre>
<p class="subhead2"><a id="BAJEEFFH" name="BAJEEFFH"></a><a id="AEAPI1240" name="AEAPI1240"></a>t_page_item</p>
<p>The following type is passed into all item type plug-in functions and contains information about the current page item.</p>
<pre xml:space="preserve" class="oac_no_warn">type t_page_item is record (
    id                          number,
    name                        varchar2(255),
    label                       varchar2(4000),
    plain_label                 varchar2(4000),
    format_mask                 varchar2(255),
    is_required                 boolean,
    lov_definition              varchar2(4000),
    lov_display_extra           boolean,
    lov_display_null            boolean,
    lov_null_text               varchar2(255),
    lov_null_value              varchar2(255),
    lov_cascade_parent_items    varchar2(255),
    ajax_items_to_submit        varchar2(255),
    ajax_optimize_refresh       boolean,
    element_width               number,
    element_max_length          number,
    element_height              number,
    element_attributes          varchar2(2000),
    element_option_attributes   varchar2(4000),
    escape_output               boolean,
    attribute_01                varchar2(32767),
    attribute_02                varchar2(32767),
    attribute_03                varchar2(32767),
    attribute_04                varchar2(32767),
    attribute_05                varchar2(32767),
    attribute_06                varchar2(32767),
    attribute_07                varchar2(32767),
    attribute_08                varchar2(32767),
    attribute_09                varchar2(32767),
    attribute_10                varchar2(32767) );
</pre>
<p class="subhead2"><a id="BAJJIHHH" name="BAJJIHHH"></a><a id="AEAPI1241" name="AEAPI1241"></a>t_page_item_ajax_result</p>
<p>The following type is used as the result type for the AJAX function of an item type plug-in.</p>
<pre xml:space="preserve" class="oac_no_warn">type t_page_item_ajax_result is record (
    dummy boolean /* not used yet */
    );
</pre>
<p class="subhead2"><a id="BAJHGJFG" name="BAJHGJFG"></a><a id="AEAPI1242" name="AEAPI1242"></a>t_page_item_render_result</p>
<p>The following type is used as the result type for the rendering function of an item type plug-in.</p>
<pre xml:space="preserve" class="oac_no_warn">type t_page_item_render_result is record (
    is_navigable     boolean default false,
    navigable_dom_id varchar2(255)          /* should only be set if navigable element is not equal to item name */
    );
</pre>
<p class="subhead2"><a id="BAJJGIGD" name="BAJJGIGD"></a><a id="AEAPI1243" name="AEAPI1243"></a>t_page_item_validation_result</p>
<p>The following type is used as the result type for the validation function of an item type plug-in.</p>
<pre xml:space="preserve" class="oac_no_warn">type t_page_item_validation_result is record (
    message          varchar2(32767),
    display_location varchar2(40),    /* if not set the application default will be used */
    page_item_name   varchar2(255) ); /* if not set the validated page item name will be used */
</pre>
<p class="subhead2"><a id="BAJFGBFA" name="BAJFGBFA"></a><a id="AEAPI1244" name="AEAPI1244"></a>t_plugin</p>
<p>The following type is passed into all plug-in functions and contains information about the current plug-in.</p>
<pre xml:space="preserve" class="oac_no_warn">type t_plugin is record (
    name         varchar2(45),
    file_prefix  varchar2(4000),
    attribute_01 varchar2(32767),
    attribute_02 varchar2(32767),
    attribute_03 varchar2(32767),
    attribute_04 varchar2(32767),
    attribute_05 varchar2(32767),
    attribute_06 varchar2(32767),
    attribute_07 varchar2(32767),
    attribute_08 varchar2(32767),
    attribute_09 varchar2(32767),
    attribute_10 varchar2(32767) );
</pre>
<p class="subhead2"><a id="BAJDGCHB" name="BAJDGCHB"></a><a id="AEAPI1245" name="AEAPI1245"></a>t_process</p>
<p>The following type is passed into all process type plug-in functions and contains information about the current process.</p>
<pre xml:space="preserve" class="oac_no_warn">type t_process is record (
    id                   number,
    name                 varchar2(255),
    success_message      varchar2(32767),
    attribute_01         varchar2(32767),
    attribute_02         varchar2(32767),
    attribute_03         varchar2(32767),
    attribute_04         varchar2(32767),
    attribute_05         varchar2(32767),
    attribute_06         varchar2(32767),
    attribute_07         varchar2(32767),
    attribute_08         varchar2(32767),
    attribute_09         varchar2(32767),
    attribute_10         varchar2(32767) );
</pre>
<p class="subhead2"><a id="BAJJEDHJ" name="BAJJEDHJ"></a><a id="AEAPI1246" name="AEAPI1246"></a>t_process_exec_result</p>
<p>The following type is used as the result type for the execution function of a process type plug-in.</p>
<pre xml:space="preserve" class="oac_no_warn">type t_process_exec_result is record (
    success_message varchar2(32767)
    );
</pre>
<p class="subhead2"><a id="BAJIFJJI" name="BAJIFJJI"></a><a id="AEAPI1247" name="AEAPI1247"></a>t_region</p>
<p>The following type is passed into all region type plug-in functions and contains information about the current region.</p>
<pre xml:space="preserve" class="oac_no_warn">type t_region is record (
    id            number,
    static_id     varchar2(255),
    name          varchar2(255),
    type          varchar2(255),
    source        varchar2(32767),
    error_message varchar2(32767),
    attribute_01  varchar2(32767),
    attribute_02  varchar2(32767),
    attribute_03  varchar2(32767),
    attribute_04  varchar2(32767),
    attribute_05  varchar2(32767),
    attribute_06  varchar2(32767),
    attribute_07  varchar2(32767),
    attribute_08  varchar2(32767),
    attribute_09  varchar2(32767),
    attribute_10  varchar2(32767) );
</pre>
<p class="subhead2"><a id="BAJIFIBH" name="BAJIFIBH"></a><a id="AEAPI1248" name="AEAPI1248"></a>t_region_ajax_result</p>
<p>The following type is used as result type for the AJAX function of a region type plug-in.</p>
<pre xml:space="preserve" class="oac_no_warn">type t_region_ajax_result is record (
    dummy boolean /* not used yet */
    );
</pre>
<p class="subhead2"><a id="BAJCAIGH" name="BAJCAIGH"></a><a id="AEAPI1249" name="AEAPI1249"></a>t_region_render_result</p>
<p>The following type is used as the result type for the rendering function of a region type plug-in.</p>
<pre xml:space="preserve" class="oac_no_warn">type t_region_render_result is record (
    dummy boolean /* not used yet */
    );
</pre></div>
<!-- class="refsect1" -->
<a id="BAJHJGIC" name="BAJHJGIC"></a><a id="AEAPI1250" name="AEAPI1250"></a>
<hr />
<div class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">GET_AJAX_IDENTIFIER<a id="sthref352" name="sthref352"></a> Function</h2>
<p>This function returns the AJAX identifier used to call the AJAX callback function defined for the plug-in.</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
This function will only work in the context of a plug-in rendering function call and only if the plug-in has defined an AJAX function callback in the plug-in definition.</div>
<p class="subhead2"><a id="AEAPI1251" name="AEAPI1251"></a>Syntax</p>
<pre xml:space="preserve" class="oac_no_warn">APEX_PLUGIN.GET_AJAX_IDENTIFIER
RETURN VARCHAR2;
</pre>
<p class="subhead2"><a id="AEAPI1252" name="AEAPI1252"></a>Parameters</p>
<p>None.</p>
<p class="subhead2"><a id="AEAPI1253" name="AEAPI1253"></a>Example</p>
<p>This is an example of a dynamic action plug-in rendering function that supports an AJAX callback.</p>
<pre xml:space="preserve" class="oac_no_warn">function render_set_value (
    p_dynamic_action in apex_plugin.t_dynamic_action )
    return apex_plugin.t_dynamic_action_render_result
is
    l_result                apex_plugin.t_dynamic_action_render_result; 
begin
    l_result.javascript_function := 'com_oracle_apex_set_value';
    l_result.ajax_identifier     := wwv_flow_plugin.get_ajax_identifier;
    return l_result;
end;
</pre></div>
<!-- class="refsect1" -->
<a id="BAJFIDIG" name="BAJFIDIG"></a><a id="AEAPI1254" name="AEAPI1254"></a>
<hr />
<div class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">GET_INPUT_NAME_FOR_PAGE_ITEM <a id="sthref353" name="sthref353"></a>Function</h2>
<p>This function is used when you want to render an HTML input element in the rendering function of an item type plug-in.For the HTML input element, for example, &lt;<code>input type="text" id="P1_TEST" name="xxx"&gt;</code>, you have to provide a value for the <code>name</code> attribute so that Oracle Application Express is able to map the submitted value to the actual page item in session state. This function returns the mapping <code>name</code> for your page item. If the HTML input element has multiple values, such as a select list with <code>multiple="multiple"</code>, then set <code>p_is_multi_value</code> to true.</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
This function is only useful when called in the rendering function of an item type plug-in.</div>
<p class="subhead2"><a id="AEAPI1255" name="AEAPI1255"></a>Syntax</p>
<pre xml:space="preserve" class="oac_no_warn">APEX_PLUGIN.GET_INPUT_NAME_FOR_PAGE_ITEM (
    p_is_multi_value  IN BOOLEAN)
RETURN VARCHAR2;
</pre>
<p class="subhead2"><a id="AEAPI1256" name="AEAPI1256"></a>Parameters</p>
<p><a href="#BAJDJCGC">Table 14-1</a> describes the parameters available in the GET_INPUT_NAME_FOR_PAGE_ITEM function.</p>
<div class="tblformal">
<p class="titleintable"><a id="AEAPI1257" name="AEAPI1257"></a><a id="sthref354" name="sthref354"></a><a id="BAJDJCGC" name="BAJDJCGC"></a>Table 14-1 GET_INPUT_NAME_FOR_PAGE_ITEM Parameters</p>
<table class="Formal" title="GET_INPUT_NAME_FOR_PAGE_ITEM Parameters" summary="This table describes the parameters available in the CACHE_GET_DATE_OF_PAGE_CACHE procedure." dir="ltr" border="1" width="100%" frame="hsides" rules="groups" cellpadding="3" cellspacing="0">
<col width="31%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t4">Parameter</th>
<th align="left" valign="bottom" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t4" headers="r1c1-t4">
<p><code>p_is_multi_value</code></p>
</td>
<td align="left" headers="r2c1-t4 r1c2-t4">
<p>Set to <code>TRUE</code> if the HTML input element has multiple values. If not, set to <code>FALSE</code>. HTML input elements with multiple values can be checkboxes and multi select lists.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI1258" name="AEAPI1258"></a>Example</p>
<p>The following example outputs the necessary HTML code to render a text field where the value gets stored in session state when the page is submitted.</p>
<pre xml:space="preserve" class="oac_no_warn">sys.htp.prn (
    '&lt;input type="text" id="'||p_item.name||'" '||
    'name="'" '||
    'value="'||sys.htf.escape_sc(p_value)||'" '||
    'size="'||p_item.element_width||'" '||
    'maxlength="'||p_item.element_max_length||'" '||
    coalesce(p_item.element_attributes, 'class="text_field"')||' /&gt;' );
</pre></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<div class="footer">
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<col width="33%" />
<col width="*" />
<col width="33%" />
<tr>
<td align="left">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="98">
<tr>
<td align="center" valign="top"><a href="apex_plsql_job.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td align="center" valign="top"><a href="apex_plugin_util.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td style="font-size: 90%" align="center" class="copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2003, 2010,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td align="right">
<table class="icons oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="196">
<tr>
<td align="center" valign="top"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td align="center" valign="top"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td align="center" valign="top"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
</div>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
